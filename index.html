<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>MJH</title>
<h1 style="text-align: center;">新的主页(以下是留言板)</h1>
<code class="php"><?php if (isset($_POST['name']) && isset($_POST['email']) && isset($_POST['message'])) {
    // 获取表单数据
    $name = $_POST['name'];
    $email = $_POST['email'];
    $message = $_POST['message'];
 
    // 将数据保存到数据库或文件
    // ... (这里省略数据库或文件操作代码)
 
    // 输出成功消息
    echo "<p>留言已成功提交！";
}
?></code>
<code class="html"><div id="messages">
    <!-- 在这里显示留言 -->
</div>
<script>
    // 通过AJAX从服务器获取留言并渲染
    function getMessages() {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "get_messages.php", true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                var messages = JSON.parse(xhr.responseText);
                var output = "";
                for (var i = 0; i < messages.length; i++) {
                    output += "<p>" + messages[i].name + " - " + messages[i].message + "";
                }
                document.getElementById("messages").innerHTML = output;
            }
        };
        xhr.send();
    }
 
    // 页面加载后获取留言
    window.onload = getMessages();
</script></code>